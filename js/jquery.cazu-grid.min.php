<?php if(extension_loaded('zlib')){ob_start('ob_gzhandler');} header("Content-type: text/javascript"); ?>
(function(){var b=function(a){this.init(a)};b.prototype={init:function(a){this.cfg=$.extend({gridID:"gallery",elemClass:"figure"},"string"!==typeof a?a:{gridID:a});this.$window=$(window);this.grid=$(this.cfg.gridID).css("position","relative").addClass("cazu-grid");this.prevGridWidth=0;this.add(this.grid.find(this.cfg.elemClass)).setEvents();return this},add:function(a){a="string"!==typeof a?a:$(a);a.css({"float":"none",position:"absolute",top:"0",left:"0"}).addClass("cazu-grid-child");this.elem="undefined"===
typeof this.elem?a:this.elem.add(a);this.grid.append(a);this.draw();return this},draw:function(){var a=this.elem.not(".hidden"),b=a.length,f=0;if(0<b)for(var c=this.prevGridWidth=this.grid.width(),h=this.elem.outerWidth(!0),c=Math.ceil((c+parseInt(this.elem.css("marginRight"))+1)/h)-1,d=0,k=[],l=!0,e=0;e<b;++e){var m=a.eq(e),p=h*d,n=l?0:k[e-c],g=n+m.outerHeight(!0);k.push(g);g>f&&(f=g);m.css({left:p+"px",top:n+"px"});++d;d>=c&&(d=0,l=!1)}this.grid.css("height",f+"px");return this},showOnly:function(a){this.elem.removeClass("hidden").not(a).addClass("hidden");
this.draw();return this},setEvents:function(){var a=this;this.$window.resize(function(){a.prevGridWidth!=a.grid.width()&&a.draw()});return this}};window.cazuGrid||(window.cazuGrid=b)})();
<?php if(extension_loaded('zlib')){ob_end_flush();}?>